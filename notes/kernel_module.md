# linux kernel module
## insmod插入分析
正式看代码前，先拍脑袋想下，如果让你自己去设计ko的插入流程，你大致会怎么做？

把ko文件读到内存 =>
    解析ko的layout =>
        校验ko里存的各项信息是否和我们的系统匹配 =>
            把ko里各section塞到内存的合适角落，使之成为内核的一部分 =>
                给各内存设置权限 =>
                    初始化ko =>
                        相关清理
                        
乍一看相当简单，有手就行。而实际上，ko就是这么插入的，相当trival

这里面有2个点特别重要：
1. .ko这个elf文件里各section，最后被加载到了vm的哪个区域里去了？
2. 如何给各section去赋权？
